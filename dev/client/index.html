<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Client · Dizkord.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">Dizkord.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../types/">Types</a></li><li class="is-active"><a class="tocitem" href>Client</a><ul class="internal"><li><a class="tocitem" href="#Gateway"><span>Gateway</span></a></li><li><a class="tocitem" href="#Caching"><span>Caching</span></a></li></ul></li><li><a class="tocitem" href="../rest/">REST API</a></li><li><a class="tocitem" href="../helpers/">Helpers</a></li><li><a class="tocitem" href="../events/">Handlers</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Client</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Client</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/uncomfyhalomacro/Dizkord.jl/blob/master/docs/src/client.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Client"><a class="docs-heading-anchor" href="#Client">Client</a><a id="Client-1"></a><a class="docs-heading-anchor-permalink" href="#Client" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-binding" id="Dizkord.Client" href="#Dizkord.Client"><code>Dizkord.Client</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Client(
    token::String
    application_id::Snowflake
    intents::Int;
    presence::Union{Dict, NamedTuple}=Dict(),
    strategies::Dict{DataType, &lt;:CacheStrategy}=Dict(),
    version::Int=9,
) -&gt; Client</code></pre><p>A Discord bot. <code>Client</code>s can connect to the gateway, respond to events, and make REST API calls to perform actions such as sending/deleting messages, kicking/banning users, etc.</p><p><strong>Bot Token</strong></p><p>A bot token can be acquired by creating a new application <a href="https://discordapp.com/developers/applications">here</a>. Make sure not to hardcode the token into your Julia code! Use an environment variable or configuration file instead.</p><p><strong>Application ID</strong></p><p>The application id for your bot can be found <a href="https://discordapp.com/developers/applications">here</a>.  Make sure not to hardcode the application id into your Julia code!  Use an environment variable or configuration file instead.</p><p><strong>Intents</strong></p><p>Integer representing intents. More information <a href="https://discord.com/developers/docs/topics/gateway#gateway-intents">here</a>.</p><p><strong>Presence</strong></p><p>The <code>presence</code> keyword sets the bot&#39;s presence upon connection. It also sets defaults for future calls to <a href="../helpers/#Dizkord.set_game"><code>set_game</code></a>. The schema <a href="https://discordapp.com/developers/docs/topics/gateway#update-status-gateway-status-update-structure">here</a> must be followed.</p><p><strong>Cache Control</strong></p><p>By default, most data that comes from Discord is cached for later use. However, to avoid memory leakage, not all of it is kept forever. The default setings are to keep everything but <a href="../types/#Dizkord.Message"><code>Message</code></a>s, which are deleted after 6 hours, forever. Although the default settings are sufficient for most workloads, you can specify your own strategies per type with the <code>strategies</code> keyword. Keys can be any of the following:</p><ul><li><a href="../types/#Dizkord.Guild"><code>Guild</code></a></li><li><a href="../types/#Dizkord.DiscordChannel"><code>DiscordChannel</code></a></li><li><a href="../types/#Dizkord.Message"><code>Message</code></a></li><li><a href="../types/#Dizkord.User"><code>User</code></a></li><li><a href="../types/#Dizkord.Member"><code>Member</code></a></li><li><a href="../types/#Dizkord.Presence"><code>Presence</code></a></li></ul><p>For potential values, see <a href="#Dizkord.CacheStrategy"><code>CacheStrategy</code></a>.</p><p>The cache can also be disabled/enabled permanently and temporarily as a whole with <a href="#Dizkord.enable_cache!"><code>enable_cache!</code></a> and <a href="#Dizkord.disable_cache!"><code>disable_cache!</code></a>.</p><p><strong>API Version</strong></p><p>The <code>version</code> keyword chooses the Version of the Discord API to use. Using anything but <code>9</code> is not officially supported by the Dizkord.jl developers.</p><p><strong>Sharding</strong></p><p>Sharding is handled automatically. The number of available processes is the number of shards that are created. See the <a href="https://github.com/Xh4H/Discord.jl/blob/master/examples/sharding.jl">sharding example</a> for more details.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uncomfyhalomacro/Dizkord.jl/blob/36f907e51c0de5327353bd7d889842eb007c6f38/src/client/client.jl#L26-L86">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Dizkord.enable_cache!" href="#Dizkord.enable_cache!"><code>Dizkord.enable_cache!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">enable_cache!(c::Client)
enable_cache!(f::Function c::Client)</code></pre><p>Enable the cache. <code>do</code> syntax is also accepted.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uncomfyhalomacro/Dizkord.jl/blob/36f907e51c0de5327353bd7d889842eb007c6f38/src/client/client.jl#L185-L190">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Dizkord.disable_cache!" href="#Dizkord.disable_cache!"><code>Dizkord.disable_cache!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">disable_cache!(c::Client)
disable_cache!(f::Function, c::Client)</code></pre><p>Disable the cache. <code>do</code> syntax is also accepted.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uncomfyhalomacro/Dizkord.jl/blob/36f907e51c0de5327353bd7d889842eb007c6f38/src/client/client.jl#L194-L199">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Dizkord.me" href="#Dizkord.me"><code>Dizkord.me</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">me(c::Client) -&gt; Nullable{User}</code></pre><p>Get the <a href="#Dizkord.Client"><code>Client</code></a>&#39;s bot user.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uncomfyhalomacro/Dizkord.jl/blob/36f907e51c0de5327353bd7d889842eb007c6f38/src/client/client.jl#L178-L182">source</a></section></article><h2 id="Gateway"><a class="docs-heading-anchor" href="#Gateway">Gateway</a><a id="Gateway-1"></a><a class="docs-heading-anchor-permalink" href="#Gateway" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Base.open" href="#Base.open"><code>Base.open</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">open(c::Client; delay::Period=Second(7))</code></pre><p>Connect a <a href="#Dizkord.Client"><code>Client</code></a> to the Discord gateway.</p><p>The <code>delay</code> keyword is the time between shards connecting. It can be increased from its default if you are using multiple shards and frequently experiencing invalid sessions upon  connection.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uncomfyhalomacro/Dizkord.jl/blob/36f907e51c0de5327353bd7d889842eb007c6f38/src/gateway/gateway.jl#L30-L38">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.isopen" href="#Base.isopen"><code>Base.isopen</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">isopen(c::Client) -&gt; Bool</code></pre><p>Determine whether the <a href="#Dizkord.Client"><code>Client</code></a> is connected to the gateway.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uncomfyhalomacro/Dizkord.jl/blob/36f907e51c0de5327353bd7d889842eb007c6f38/src/gateway/gateway.jl#L108-L112">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.close" href="#Base.close"><code>Base.close</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">close(c::Client)</code></pre><p>Disconnect the <a href="#Dizkord.Client"><code>Client</code></a> from the gateway.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uncomfyhalomacro/Dizkord.jl/blob/36f907e51c0de5327353bd7d889842eb007c6f38/src/gateway/gateway.jl#L115-L119">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.wait" href="#Base.wait"><code>Base.wait</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">wait(c::Client)</code></pre><p>Wait for an open <a href="#Dizkord.Client"><code>Client</code></a> to close.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uncomfyhalomacro/Dizkord.jl/blob/36f907e51c0de5327353bd7d889842eb007c6f38/src/gateway/gateway.jl#L133-L137">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Dizkord.request_guild_members" href="#Dizkord.request_guild_members"><code>Dizkord.request_guild_members</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">request_guild_members(
    c::Client,
    guilds::Union{Integer, Vector{&lt;:Integer};
    query::AbstractString=&quot;&quot;,
    limit::Int=0,
) -&gt; Bool</code></pre><p>Request offline guild members of one or more <a href="../types/#Dizkord.Guild"><code>Guild</code></a>s. <a href="@ref"><code>GuildMembersChunk</code></a> events are sent by the gateway in response. More details <a href="https://discordapp.com/developers/docs/topics/gateway#request-guild-members">here</a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uncomfyhalomacro/Dizkord.jl/blob/36f907e51c0de5327353bd7d889842eb007c6f38/src/gateway/gateway.jl#L149-L160">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Dizkord.update_voice_state" href="#Dizkord.update_voice_state"><code>Dizkord.update_voice_state</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">update_voice_state(
    c::Client,
    guild::Integer,
    channel::Nullable{Integer},
    mute::Bool,
    deaf::Bool,
) -&gt; Bool</code></pre><p>Join, move, or disconnect from a voice channel. A <a href="@ref"><code>VoiceStateUpdate</code></a> event is sent by the gateway in response. More details <a href="https://discordapp.com/developers/docs/topics/gateway#update-voice-state">here</a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uncomfyhalomacro/Dizkord.jl/blob/36f907e51c0de5327353bd7d889842eb007c6f38/src/gateway/gateway.jl#L185-L197">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Dizkord.update_status" href="#Dizkord.update_status"><code>Dizkord.update_status</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">update_status(
    c::Client,
    since::Nullable{Int},
    activity::Nullable{Activity},
    status::Union{PresenceStatus, AbstractString},
    afk::Bool,
) -&gt; Bool</code></pre><p>Indicate a presence or status update. A <a href="@ref"><code>PresenceUpdate</code></a> event is sent by the gateway in response. More details <a href="https://discordapp.com/developers/docs/topics/gateway#update-status">here</a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uncomfyhalomacro/Dizkord.jl/blob/36f907e51c0de5327353bd7d889842eb007c6f38/src/gateway/gateway.jl#L215-L227">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Dizkord.heartbeat_ping" href="#Dizkord.heartbeat_ping"><code>Dizkord.heartbeat_ping</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">heartbeat_ping(c::Client) -&gt; Nullable{Period}</code></pre><p>Get the <a href="#Dizkord.Client"><code>Client</code></a>&#39;s ping time to the gateway. If the client is not connected, or no heartbeats have been sent/acknowledged, <code>nothing</code> is returned.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uncomfyhalomacro/Dizkord.jl/blob/36f907e51c0de5327353bd7d889842eb007c6f38/src/utils/helpers.jl#L389-L394">source</a></section></article><h2 id="Caching"><a class="docs-heading-anchor" href="#Caching">Caching</a><a id="Caching-1"></a><a class="docs-heading-anchor-permalink" href="#Caching" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Dizkord.CacheStrategy" href="#Dizkord.CacheStrategy"><code>Dizkord.CacheStrategy</code></a> — <span class="docstring-category">Type</span></header><section><div><p>A method of handling cache insertion and eviction.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uncomfyhalomacro/Dizkord.jl/blob/36f907e51c0de5327353bd7d889842eb007c6f38/src/client/state.jl#L9-L11">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Dizkord.CacheForever" href="#Dizkord.CacheForever"><code>Dizkord.CacheForever</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">CacheForever() -&gt; CacheForever</code></pre><p>Store everything and never evict items from the cache.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uncomfyhalomacro/Dizkord.jl/blob/36f907e51c0de5327353bd7d889842eb007c6f38/src/client/state.jl#L14-L18">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Dizkord.CacheNever" href="#Dizkord.CacheNever"><code>Dizkord.CacheNever</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">CacheNever() -&gt; CacheNever</code></pre><p>Don&#39;t store anything in the cache.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uncomfyhalomacro/Dizkord.jl/blob/36f907e51c0de5327353bd7d889842eb007c6f38/src/client/state.jl#L21-L25">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Dizkord.CacheTTL" href="#Dizkord.CacheTTL"><code>Dizkord.CacheTTL</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">CacheTTL(ttl::Period) -&gt; CacheTTL</code></pre><p>Evict items from the cache after <code>ttl</code> has elapsed.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uncomfyhalomacro/Dizkord.jl/blob/36f907e51c0de5327353bd7d889842eb007c6f38/src/client/state.jl#L28-L32">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Dizkord.CacheLRU" href="#Dizkord.CacheLRU"><code>Dizkord.CacheLRU</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">CacheLRU(size::Int) -&gt; CacheLRU</code></pre><p>Evict the least recently used item from the cache when there are more than <code>size</code> items.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uncomfyhalomacro/Dizkord.jl/blob/36f907e51c0de5327353bd7d889842eb007c6f38/src/client/state.jl#L37-L41">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Dizkord.CacheFilter" href="#Dizkord.CacheFilter"><code>Dizkord.CacheFilter</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">CacheFilter(f::Function) -&gt; CacheFilter</code></pre><p>Only store value <code>v</code> at key <code>k</code> if <code>f(v) === true</code> (<code>k</code> is always <code>v.id</code>).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/uncomfyhalomacro/Dizkord.jl/blob/36f907e51c0de5327353bd7d889842eb007c6f38/src/client/state.jl#L46-L50">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../types/">« Types</a><a class="docs-footer-nextpage" href="../rest/">REST API »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.10 on <span class="colophon-date" title="Wednesday 3 November 2021 23:39">Wednesday 3 November 2021</span>. Using Julia version 1.6.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
